# Interpreter
The Interpreter pattern is a behavioral design pattern that is used to define a language or grammar for a problem domain and provides a way to evaluate or interpret sentences in that language. It allows you to build an interpreter that can parse sentences in the defined language and perform actions based on the parsed expressions.

![image](https://github.com/boushphong/Design-Patterns/assets/59940078/eaa6d6dc-8488-45d6-922c-be7207960129)

```java
interface Vehicle {
    void drive();
    void stop();
    void refuel();
}

class Car implements Vehicle {
    private String plateNumber;

    public Car(String plateNumber) {
        this.plateNumber = plateNumber;
    }

    @Override
    public void drive() {
        System.out.println("The car " + plateNumber + " is driving.");
    }

    @Override
    public void stop() {
        System.out.println("The car " + plateNumber + " has stopped.");
    }

    @Override
    public void refuel() {
        System.out.println("The car " + plateNumber + " is being refueled.");
    }
}

class Truck implements Vehicle {
    private String plateNumber;

    public Truck(String plateNumber) {
        this.plateNumber = plateNumber;
    }

    @Override
    public void drive() {
        System.out.println("The truck " + plateNumber + " is driving.");
    }

    @Override
    public void stop() {
        System.out.println("The truck" + plateNumber + " has stopped.");
    }

    @Override
    public void refuel() {
        System.out.println("The truck " + plateNumber + " is being refueled.");
    }
}

interface Expression {
    void interpret(Vehicle vehicle);
}

class DriveExpression implements Expression {
    @Override
    public void interpret(Vehicle vehicle) {
        vehicle.drive();
    }
}

class StopExpression implements Expression {
    @Override
    public void interpret(Vehicle vehicle) {
        vehicle.stop();
    }
}

class RefuelExpression implements Expression {
    @Override
    public void interpret(Vehicle vehicle) {
        vehicle.refuel();
    }
}

class CompositeExpression implements Expression {
    private List<Expression> expressions;

    public CompositeExpression() {
        expressions = new ArrayList<>();
    }

    public void addExpression(Expression expression) {
        expressions.add(expression);
    }

    @Override
    public void interpret(Vehicle vehicle) {
        for (Expression expression : expressions) {
            expression.interpret(vehicle);
        }
    }
}

class CommandParser {
    private final Map<String, Expression> expressions;

    public CommandParser() {
        expressions = new HashMap<>();
        expressions.put("drive", new DriveExpression());
        expressions.put("stop", new StopExpression());
        expressions.put("refuel", new RefuelExpression());
    }

    public void parse(String command, Vehicle vehicle) {
        Expression expression = expressions.get(command);
        if (expression != null) {
            expression.interpret(vehicle);
        } else {
            System.out.println("Invalid command: " + command);
        }
    }
}

public class Main {
    public static void main(String[] args) {
        Vehicle car = new Car("ABC123");
        StopExpression stop = new StopExpression();
        RefuelExpression refuel = new RefuelExpression();
        stop.interpret(car);
        refuel.interpret(car);

        // Interpret commands using the parser
        CommandParser parser = new CommandParser();
        parser.parse("drive", car);    // Perform the drive action on the car
        parser.parse("stop", car);     // Perform the stop action on the car
        parser.parse("refuel_stop", car);   // Perform the refuel and stop actions on the car
        parser.parse("park", car);     // Invalid command

        // Create a composite expression for refueling and stopping
        CompositeExpression compositeExpression = new CompositeExpression();
        compositeExpression.addExpression(new StopExpression());
        compositeExpression.addExpression(new RefuelExpression());
        compositeExpression.interpret(car);

    }
}
```
